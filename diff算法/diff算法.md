# diff 算法
## 概念
- 最小更新，当然 **key** 很重要，**key** 是这个节点的唯一标识，告诉 diff 算法，在更改前后他们是同一节点
- **只有同一个虚拟节点，才进行精化比较**，否则就是暴力删除旧的，插入新的。
    - 延申问题：如何定义一是同一个虚拟节点？？？ **选择器相同且key相同**
- **只进行同层比较，不会进行跨层比较**。即使是同一片虚拟节点，但是跨层了，精细化比较不会diff，而是暴力删除旧的，插入新的。

![](../../Vue.js/studyImg/7.png)

　`path函数`

![](../../Vue.js/studyImg/8.png)

## 如何定义同一个节点

```js
function sameVnode( VNode1,VNode2 ){
    return VNode1.key === VNode2.key && VNode1.sel === VNode2.sel
}
```

- **旧节点的key要和新节点的key相同**
- **旧节点的选择器要和新节点的选择器相同**

## 第一次上树

